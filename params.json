{"body":"This is a patch for postfix 2.9.x MTA to support redis lookup table. This patch depends on @antirez hiredis client library.\r\n\r\n### Apply Patch\r\nDownload the postfix source at http://www.postfix.org/download.html  \r\nExtract the file and switch to the source directory.\r\n```\r\n$ cp dict_redis.c src/global\r\n$ cp dict_redis.h src/global\r\n$ cp hiredis.h src/global\r\n$ patch -p5 < Makefile.in.patch\r\n$ patch -p5 < mail_dict.c.patch\r\n```\r\n### Generating Makefiles\r\nTo generate make files run make as follows\r\n```\r\n$ make makefiles CCARGS=\"-DHAS_REDIS -I/usr/local/include/hiredis\" AUXLIBS=\"-L/usr/local/lib -lhiredis\"\r\n```\r\n\r\n### Compile And Install Postfix\r\n```\r\n$ make\r\n$ make install\r\n```\r\n\r\n### Installing Hiredis Client Library\r\nYou can clone the code at https://github.com/antirez/hiredis/    \r\n```\r\n$ make\r\n$ make install\r\n```\r\nOptionally you can also add the folder(/usr/local/lib - default hiredis install folder) to ld.so.conf if required, so that libhiredis.so is resolvable.\r\n \r\n### Testing Lookup\r\nTo test the lookup table you can postmap the string as follows\r\n```\r\n$ postmap -q \"string\" redis:/etc/postfix/lookup.cf\r\n```\r\nContents of lookup.cfg:  \r\nhost = localhost       \r\nport = 6379\r\n\r\n### Configuration\r\nThe configuration file support two attributes, host and port. The default host is 127.0.0.1 and port is 6379.  \r\n\r\nExample:  \r\nhost = redisdb.example.com  \r\nport = 6379\r\n \r\n### Authors and Contributors\r\nThis project includes works from @antirez.\r\n\r\n### Contact\r\nYou can contact me at titus dot nitt at gmail dot com.","name":"Postfix Redis","tagline":"Postfix Redis Lookup Table Support","note":"Don't delete this file! It's used internally to help with page regeneration.","google":"UA-33932282-1"}